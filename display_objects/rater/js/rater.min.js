var agt=navigator.userAgent.toLowerCase();var mac=agt.indexOf("mac")!=-1;var macIe=mac&&document.all;var gYOUR_RATING="";var gDEFAULT_TEXT="Recommend It: ";if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a]}}function starImg(a){return themepath+"/images/rater/star_"+starString(a)+".gif"}function starString(a){if(a<=0){num="zero"}else{if(a<1){num="half"}else{if(a<1.5){num="one"}else{if(a<2){num="onehalf"}else{if(a<2.5){num="two"}else{if(a<3){num="twohalf"}else{if(a<3.5){num="three"}else{if(a<4){num="threehalf"}else{if(a<4.5){num="four"}else{if(a<5){num="fourhalf"}else{if(a>=5){num="five"}}}}}}}}}}}return num}String.prototype.pluralize=function(b,a){if(a==null){a=this+"s"}return(b==1?this:a)};function setRating(a,c,b){vt=document.getElementById("numvotes");vt.innerHTML=c+String(" vote").pluralize(c);b=Math.round(b*10)/10;stars=document.getElementById("ratestars");stars.alt=b+String(" star").pluralize(b);stars.src=starImg(b);for(i=1;i<=5;i++){radio=document.getElementById("rater1_rater_input0radio"+i);if(i==a){radio.checked=true}else{radio.checked=false}}}function initRatings(d){if(!document.getElementById){return}var c=0;var a=document.getElementsByName(d);var e=(a)?a[0]:null;if(!e){return false}while(c>=0){var f=d+"_rater_input"+c;var b=document.getElementsByName(f);if(b[0]){if(b[0].nodeName=="SELECT"){gatherSelectAttributes(b[0],d)}else{if(b[0].nodeName=="INPUT"&&b[0].type=="radio"){gatherRadioAttributes(b,d)}}c++}else{c=-1}}}function gatherRadioAttributes(g,j){var o=-1;var n=g.length;var l=g[0].parentNode.parentNode;var a=l.getElementsByTagName("LEGEND");var k=(a[0])?a[0].innerHTML:"";var m=new Array();var f=g[0].name;var h=g[0].className;for(var e=0;e<n;e++){var c=g[e];var d=m.length;m[d]=new Array();var b=m[d];b.value=(c.value)?c.value:e;if(!macIe){b.label=(c.nextSibling.data)?c.nextSibling.data:gDEFAULT_TEXT}else{b.label=(c.parentNode.innerText)?c.parentNode.innerText:gDEFAULT_TEXT}if(c.checked){o=e}}var p=l.parentNode;p.removeChild(l);createRater(f,p,m,o,h,k,j)}function gatherSelectAttributes(o,g){var c=o.getElementsByTagName("OPTION");var k=-1;var h="";var b=c.length;var n=new Array();var e=o.name;var f=o.className;for(var d=0;d<b;d++){var a=c[d];if(a.value!=-1){var m=n.length;n[m]=new Array();var j=n[m];j.value=(a.value)?a.value:d;j.label=(a.innerHTML)?a.innerHTML:"";if(a.selected){k=d-1}}else{h=(a.innerHTML)?a.innerHTML:gDEFAULT_TEXT}}var l=o.parentNode;l.removeChild(o);createRater(e,l,n,k,f,h,g)}function createRater(j,b,c,a,p,e,k){var q=document.createElement("DIV");q.className=p;q.id=j+"_container";q.labelsValues=c;q.selectedIndex=a;q.formId=k;var d=c.length;var m=document.createElement("P");m.id=j+"_text";q.textElemId=m.id;q.appendChild(m);q.defaultText=e;var o=new Array();for(var f=0;f<d;f++){var r=document.createElement("A");r.href="#";r.onmouseover=raterMouseOver;r.onfocus=raterMouseOver;r.onmouseout=raterMouseOut;r.onblur=raterMouseOut;r.onclick=raterClick;r.containerId=q.id;r.index=f;var h="";if(a!=-1&&f<=a){h="selected"}var g=(h!="")?" ":"";var n=(f%2)?"odd"+g:"even"+g;r.className=n+h;q.appendChild(r);o[o.length]=r}q.ratingElements=o;var l=document.createElement("DIV");l.className="clr";q.appendChild(l);b.appendChild(q)}function raterMouseOver(){var b=document.getElementById(this.containerId);var a=b.getElementsByTagName("A");var e=a.length;for(var f=0;f<e;f++){var c=a[f];var d=b.selectedIndex;var h="";if(d>-1){if(f<=d&&f<=this.index){h="selectedover"}else{if(f<=d&&f>this.index){h="selectedless"}else{if(f>d&&f<=this.index){h="over"}else{if(f>d&&f>this.index){h=""}}}}}else{if(f<=this.index){h="over"}}var g=(h!="")?" ":"";var j=(f%2)?"odd"+g:"even"+g;c.className=j+h}}function raterMouseOut(){var b=document.getElementById(this.containerId);var a=b.getElementsByTagName("A");var e=a.length;for(var f=0;f<e;f++){var c=a[f];var d=b.selectedIndex;var h=(d!=-1&&d>=f)?"selected":"";var g=(h!="")?" ":"";var j=(f%2)?"odd"+g:"even"+g;c.className=j+h}}function raterClick(){var b=document.getElementById(this.containerId);var a=b.getElementsByTagName("A");var f=a.length;for(var g=0;g<f;g++){var e=a[g];var j=(g<=this.index)?"selectedover":"";var h=(j!="")?" ":"";var k=(g%2)?"odd"+h:"even"+h;e.className=k+j;b.selectedIndex=this.index}var d=document.getElementById(b.textElemId);var c=document.getElementById("rate");c.value=b.labelsValues[b.selectedIndex]["value"];if(document.getElementById(b.formId).userID.value!=""){saveRate(b.formId)}else{location.href=document.getElementById(b.formId).loginURL.value+document.getElementById(b.formId).rate.value}return false}function showRatingResponse(resp){var r=eval("("+resp+")");document.getElementById("numvotes").innerHTML=r.data.THECOUNT+String(" vote").pluralize(r.data.THECOUNT);document.getElementById("avgratingstars").setAttribute("class","ratestars "+starString(r.data.THEAVG));return false};